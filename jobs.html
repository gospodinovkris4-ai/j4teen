<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-key="jobsPageTitle">Jobs – J4Teen</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<nav class="topbar">
  <div class="logo">J4Teen</div>
  <button id="lang-toggle" type="button">EN</button>
  <div class="burger">☰</div>

  <div class="menu">
    <a href="index.html" data-key="home">Начало</a>
    <a href="jobs.html" data-key="jobs">Обяви</a>
    <a href="categories.html" data-key="categories">Категории</a>
    <a href="news.html" data-key="newsMenu">Новини</a>
    <a href="pricing.html" data-key="plans">Планове</a>
    <a href="post.html" data-key="post">Публикувай</a>
    <a href="chat.html" data-key="chat">Чат</a>
  </div>
</nav>

<header class="hero small">
  <div class="hero-content">
    <h1 data-key="jobsTitle">Искам да работя</h1>
    <p data-key="jobsSubtitle">Всички налични обяви</p>
  </div>
</header>

<main class="container">

  <div id="jobs-list" style="
    max-width:900px;
    margin:0 auto;
    display:flex;
    flex-direction:column;
    gap:6px;
  "></div>

  <div id="jobs-empty" style="display:none; text-align:center; margin-top:40px;">
    <p data-key="jobsEmpty">Няма публикувани обяви.</p>
  </div>

</main>

<script src="main.js"></script>

<script>
  // ⛑️ ГАРАНЦИЯ: изчакваме main.js да сложи demo jobs
  window.addEventListener("load", function () {

    const list = document.getElementById("jobs-list");
    const empty = document.getElementById("jobs-empty");

    const jobs = JSON.parse(localStorage.getItem("jobs") || "[]");

    if (!jobs.length) {
      empty.style.display = "block";
      return;
    }

    jobs.forEach(job => {
      const row = document.createElement("div");
      row.className = "job";
      row.style.padding = "6px 10px";
      row.style.display = "flex";
      row.style.justifyContent = "space-between";
      row.style.alignItems = "center";
      row.style.gap = "10px";

      row.innerHTML = `
        <div style="flex:1; min-width:0;">
          <div class="title" style="font-size:14px; font-weight:700;">
            ${job.title}
          </div>
          <div class="meta" style="
            font-size:12px;
            color:#666;
            white-space:nowrap;
            overflow:hidden;
            text-overflow:ellipsis;
          ">
            ${job.desc}
          </div>
        </div>
        <div class="price" style="
          font-size:13px;
          font-weight:700;
          color:#2563eb;
          white-space:nowrap;
        ">
          ${job.price || ""}
        </div>
      `;

      list.appendChild(row);
    });
  });
</script>

</body>
</html>
