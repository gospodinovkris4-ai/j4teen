<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–í—Ö–æ–¥ ‚Äì J4Teen</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<nav class="topbar">
  <div class="logo">J4Teen</div>
</nav>

<header class="hero small">
  <div class="hero-content">
    <h1>–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
    <p>–í–ª–µ–∑ –≤ –ø—Ä–æ—Ñ–∏–ª–∞ —Å–∏, –∑–∞ –¥–∞ –ø—É–±–ª–∏–∫—É–≤–∞—à –∏ —á–∞—Ç–∏—à</p>
  </div>
</header>

<main class="container">

  <div style="
    max-width:420px;
    margin:0 auto;
    background:#fff;
    padding:28px;
    border-radius:24px;
    box-shadow:0 12px 32px rgba(0,0,0,0.15);
    position:relative;
    z-index:9999;
  ">

    <input id="email" type="email" placeholder="–ò–º–µ–π–ª"
      style="width:100%;padding:14px;border-radius:14px;border:2px solid #e5edff;margin-bottom:12px;" />

    <input id="password" type="password" placeholder="–ü–∞—Ä–æ–ª–∞"
      style="width:100%;padding:14px;border-radius:14px;border:2px solid #e5edff;margin-bottom:18px;" />

    <button id="loginBtn"
      style="width:100%;padding:14px;border-radius:999px;background:#2563eb;color:white;font-weight:800;border:none;margin-bottom:10px;pointer-events:auto;z-index:99999;">
      –í—Ö–æ–¥
    </button>

    <button id="registerBtn"
      style="width:100%;padding:14px;border-radius:999px;background:#f59e0b;color:#111;font-weight:800;border:none;pointer-events:auto;z-index:99999;">
      –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    </button>

    <p id="auth-msg" style="margin-top:16px;color:#c00;text-align:center;"></p>

  </div>

</main>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

<script>
  const SUPABASE_URL = "https://aujswymolniwtdxyangf.supabase.co";
  const SUPABASE_KEY = "sb_publishable_UNykLLkp5Jzb9TQlq-qijg_U94miJxS";

  const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

  const loginBtn = document.getElementById("loginBtn");
  const registerBtn = document.getElementById("registerBtn");

  loginBtn.addEventListener("click", async () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { error } = await supabase.auth.signInWithPassword({ email, password });

    if (error) {
      document.getElementById("auth-msg").textContent = error.message;
    } else {
      window.location.href = "index.html";
    }
  });

  registerBtn.addEventListener("click", async () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { error } = await supabase.auth.signUp({ email, password });

    if (error) {
      document.getElementById("auth-msg").textContent = error.message;
    } else {
      document.getElementById("auth-msg").style.color = "green";
      document.getElementById("auth-msg").textContent =
        "–£—Å–ø–µ—à–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è! –í–ª–µ–∑ —Å–µ–≥–∞.";
    }
  });
</script>




<script>
/* üöë EMERGENCY CLICK FIX ‚Äì –ù–ï –ú–û–ñ–ï –î–ê –°–ï –ë–õ–û–ö–ò–†–ê */
document.addEventListener("click", function (e) {
  const loginBtn = document.getElementById("loginBtn");
  const registerBtn = document.getElementById("registerBtn");

  if (!loginBtn || !registerBtn) return;

  if (e.target === loginBtn) {
    e.stopPropagation();
    e.preventDefault();
    login();
  }

  if (e.target === registerBtn) {
    e.stopPropagation();
    e.preventDefault();
    register();
  }
}, true); // ‚¨ÖÔ∏è CAPTURE PHASE (–ø—Ä–µ—Å–∫–∞—á–∞ overlay-–∏)
</script>


  
</body>
</html>
