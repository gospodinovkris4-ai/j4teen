<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Новина – J4Teen</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<nav class="topbar">
  <div class="logo">J4Teen</div>
  <button id="lang-toggle">EN</button>
  <div class="burger">☰</div>
  <div class="menu">
    <a href="index.html">Начало</a>
    <a href="news.html">Новини</a>
  </div>
</nav>

<header class="hero small" id="news-hero">
  <div class="hero-content">
    <h1 id="news-title"></h1>
    <p id="news-date"></p>
  </div>
</header>

<main class="container">

  <img id="news-image" style="
    width:100%;
    max-width:900px;
    border-radius:24px;
    margin:24px auto;
    display:block;
  ">

  <div class="card" style="max-width:900px; margin:0 auto;">
    <div id="news-text"></div>
  </div>

  <div style="text-align:center; margin:32px;">
    <a href="news.html" class="btn primary">← Назад към новини</a>
  </div>

  <h2 style="text-align:center; margin-bottom:16px;">Още новини</h2>
  <div class="cards" id="more-news"></div>

</main>

<script src="news-feed.js"></script>
<script src="main.js"></script>

<script>
  const params = new URLSearchParams(window.location.search);
  const id = Number(params.get("id"));
  const lang = localStorage.getItem("lang") || "bg";

  const news = J4TEEN_NEWS.find(n => n.id === id);

  if (!news) {
    document.body.innerHTML = "<p>Новината не е намерена.</p>";
  } else {
    document.getElementById("news-title").textContent =
      lang === "bg" ? news.title_bg : news.title_en;

    document.getElementById("news-date").textContent =
      new Date(news.date).toLocaleDateString(lang === "bg" ? "bg-BG" : "en-GB");

    document.getElementById("news-image").src = news.image;
    document.getElementById("news-text").innerText =
      lang === "bg" ? news.text_bg : news.text_en;

    const more = document.getElementById("more-news");
    J4TEEN_NEWS.filter(n => n.id !== id).forEach(n => {
      const c = document.createElement("div");
      c.className = "card";
      c.innerHTML = `
        <h3>${lang === "bg" ? n.title_bg : n.title_en}</h3>
        <p>${new Date(n.date).toLocaleDateString(lang === "bg" ? "bg-BG" : "en-GB")}</p>
      `;
      c.onclick = () => location.href = "news-item.html?id=" + n.id;
      more.appendChild(c);
    });
  }
</script>

</body>
</html>
