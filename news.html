<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-key="newsPageTitle">–ê–∫—Ç—É–∞–ª–Ω–æ ‚Äì J4Teen</title>
  <link rel="stylesheet" href="style.css?v=2">
</head>

<body>

<nav class="topbar">
  <div class="logo">J4Teen</div>
  <button id="lang-toggle" type="button">EN</button>
  <div class="burger">‚ò∞</div>

  <div class="menu">
    <a href="index.html" data-key="home">–ù–∞—á–∞–ª–æ</a>
    <a href="jobs.html" data-key="jobs">–û–±—è–≤–∏</a>
    <a href="categories.html" data-key="categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
    <a href="news.html" data-key="newsMenu">–ù–æ–≤–∏–Ω–∏</a>
    <a href="pricing.html" data-key="plans">–ü–ª–∞–Ω–æ–≤–µ</a>
    <a href="post.html" data-key="post">–ü—É–±–ª–∏–∫—É–≤–∞–π</a>
    <a href="chat.html" data-key="chat">–ß–∞—Ç</a>
  </div>
</nav>

<header class="hero small">
  <div class="hero-content">
    <h1 data-key="newsTitle">–ê–∫—Ç—É–∞–ª–Ω–æ</h1>
    <p data-key="newsSubtitle">–†–µ–∞–ª–Ω–∏ –Ω–æ–≤–∏–Ω–∏ –∑–∞ —Ä–∞–±–æ—Ç–∞ –∏ –º–ª–∞–¥–µ–∂–∏</p>
  </div>
</header>

<main class="container">

  <!-- REAL NEWS -->
  <div class="cards" id="news-list"></div>

</main>

<script src="main.js"></script>

<script>
  const newsList = document.getElementById("news-list");

  // Google News RSS (work + youth related)
  const RSS_URL =
    "https://news.google.com/rss/search?q=—Ä–∞–±–æ—Ç–∞+–º–ª–∞–¥–µ–∂–∏+–∫–∞—Ä–∏–µ—Ä–∞&hl=bg&gl=BG&ceid=BG:bg";

  // CORS proxy
  const FEED_URL = "https://api.allorigins.win/raw?url=" + encodeURIComponent(RSS_URL);

  fetch(FEED_URL)
    .then(res => res.text())
    .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
    .then(data => {
      const items = Array.from(data.querySelectorAll("item")).slice(0, 8);

      items.forEach(item => {
        const title = item.querySelector("title").textContent;
        const link = item.querySelector("link").textContent;
        const date = new Date(item.querySelector("pubDate").textContent)
          .toLocaleDateString("bg-BG");

        const card = document.createElement("div");
        card.className = "card";
        card.style.cursor = "pointer";

        card.innerHTML = `
          <div class="icon">üì∞</div>
          <h3>${title}</h3>
          <p style="font-size:13px; color:#777;">${date}</p>
        `;

        card.addEventListener("click", () => {
          window.open(link, "_blank");
        });

        newsList.appendChild(card);
      });
    })
    .catch(() => {
      newsList.innerHTML =
        "<p style='text-align:center;'>–ù–æ–≤–∏–Ω–∏—Ç–µ –Ω–µ –º–æ–≥–∞—Ç –¥–∞ —Å–µ –∑–∞—Ä–µ–¥—è—Ç –≤ –º–æ–º–µ–Ω—Ç–∞.</p>";
    });
</script>

</body>
</html>
